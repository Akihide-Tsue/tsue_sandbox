# name: notion publish

# on:
#   pull_request:
#     types: [closed]
#     branches:
#       - main

# jobs:
#   create-release-tag:
#     runs-on: ubuntu-latest
#     if: github.event.pull_request.merged == true
#     env:
#       GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}

#     strategy:
#       matrix:
#         node-version: [16]

#     steps:
#       - uses: actions/checkout@v3
#       - name: Use Node.js ${{ matrix.node-version }}
#         uses: actions/setup-node@v3
#         with:
#           node-version: ${{ matrix.node-version }}
#           cache: 'yarn'
#       - name: yarn install!
#         shell: bash
#         run: yarn install --frozen-lockfile
#       - name: Dump release note
#         id: release_note
#         run: |
#           EOF=$(dd if=/dev/urandom bs=15 count=1 status=none | base64)
#           echo "NEXT_PUBLIC_RELEASE_NOTE<<$EOF" >> $GITHUB_ENV
#           curl -X GET -H 'Accept: application/vnd.github.v3+json' -H 'Authorization: token ${{ secrets.GITHUB_TOKEN }}' -H 'X-GitHub-Api-Version: 2022-11-28' https://api.github.com/repos/${{ github.repository }}/releases/latest >> $GITHUB_ENV
#           echo "$EOF" >> $GITHUB_ENV
#       - name: Generate release note
#         run: yarn run release-note
#         env:
#           NEXT_PUBLIC_NOTION_TOKEN: ${{ secrets.NEXT_PUBLIC_NOTION_TOKEN }}
#           NEXT_PUBLIC_NOTION_DATABASE_ID: ${{ secrets.NEXT_PUBLIC_NOTION_DATABASE_ID }}
